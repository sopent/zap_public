{"openapi": "3.0.2", "info": {"title": "FastAPI", "description": "Использование имеющихся сервисов 1С:\n<ul>\n     <li>1. Загрузка прайсов от поставщиков. Можно оставить парсинг прайсов поставщикам в виде программы на Delphi, однако нужно формировать текстовые файлы и отдавать их сайту для загрузки.</li>\n     <li>2. Отправка прайсов клиентам. Можно оставить в 1С, пока это устраивает по функционалу и производительности.</li>\n     <li>3. Парсинг заказов от клиентов. Можно оставить в 1С, но необходимо передавать данные на сайт по апи (/order/add).</li>\n     <li>4. Отправка заказов поставщикам. Можно сделать там, где удобнее дорабатывать и расширять (/order/to-supplier).</li>\n     <li>5. Парсинг инвойсов. В будущем должен быть автоматический, f1pro такого не предоставляет, однако временно оставляем в 1С, передаем данные на сайт (/order/supplier-invoice)</li>\n     <li>A. Дополнительный вопрос по документам. Их может генерировать 1С и отдавать сайту через веб-сервис или ssh. При этом нужно от 1С получать состав возвратного документа (/client/return-doc).</li>\n</ul>     \n     ", "version": "0.1.0"}, "paths": {"/": {"get": {"summary": "Index", "operationId": "index__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/user/get-new": {"get": {"summary": "передача в 1с новых пользователей, пакетно", "description": "1c обращается к этому апи, что бы забрать новых пользователей\n(client.data_fetched_by_1c=DATA_NEW, выставляется DATA_FETCHED)", "operationId": "user_get_new_user_get_new_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/supplier/get-new": {"get": {"summary": "передача в 1с новых поставщиков, пакетно", "description": "1c обращается к этому апи, что бы забрать новых поставщиков, необходима новая колонка в базе,\nлибо 1с передает диапазон дат и фильтрация по date_changed\n(supplier.data_fetched_by_1c=DATA_NEW, выставляется DATA_FETCHED)", "operationId": "supplier_get_new_supplier_get_new_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/user/get-updated": {"get": {"summary": "передача в 1с обновлений данных по пользователям, пакетно", "description": "1c обращается к этому апи, что бы забрать обновленные данные пользователей\n(client.data_fetched_by_1c=DATA_UPDATED, выставляется DATA_FETCHED)", "operationId": "user_get_updated_user_get_updated_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/supplier/get-updated": {"get": {"summary": "передача в 1с обновления данных по поставщикам, пакетно", "description": "1c обращается к этому апи, что бы забрать обновленные данные поставщиков, необходима новая колонка в базе\n(supplier.data_fetched_by_1c=DATA_UPDATED, выставляется DATA_FETCHED)", "operationId": "supplier_get_updated_supplier_get_updated_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/get-new": {"get": {"summary": "передача заказов в 1С", "description": "Т.к. есть заказы через сайт, а не только почтовые, это апи обязательно нужно, что бы передать в 1С состав этих заказов", "operationId": "order_get_new_order_get_new_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/add": {"post": {"summary": "передача заказов на сайт из 1С", "description": "Если почтовые заказы будет парсить 1С, то она должна отдать результат на сайт, что бы отображать данные клиентам\nи заполнять supplier_invoice", "operationId": "order_add_order_add_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/to-supplier": {"post": {"summary": "заказы поставщикам", "description": "Если заказы поставщикам отправляет 1С, то этот метод принимает данные. Если отправлять будет сайт,\nто он отдает данные для 1С. Нужно выбрать.", "operationId": "order_to_supplier_order_to_supplier_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/supplier-invoice": {"post": {"summary": "загрузка заказа поставщику из 1С на сайт", "description": "Если инвойсы загружаются через 1С, то через этот сервис передается состав документа для заполнения supplier_invoice", "operationId": "order_supplier_invoice_order_supplier_invoice_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/change-status": {"post": {"summary": "отправка статусов пришло, выдано, возврат, отказ", "description": "Отправка статусов от склада на сайт - пришло, выдано, возврат, отказ поставщика. Отказ поставщика отправляется,\nнапример, в случае, если с поставщиком договоренность - не привёз на следующий день, уже не привезёт.\nВозврат в этом сервисе необязательно, можно запретить этот статус тут, т.к. есть /client/return-doc", "operationId": "order_change_status_by_key_order_change_status_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/change-price": {"post": {"summary": "изменение цены заказа", "description": "В случае изменения цены в 1С", "operationId": "order_change_price_order_change_price_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/reject": {"get": {"summary": "детали, уже не нужные клиентам", "description": "Список деталей, которые склад должен сразу отправить на возврат поставщику, не собирая их клиентам.\nНе приоритетно.", "operationId": "order_reject_order_reject_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/client/return-doc": {"get": {"summary": "состав документа возврата клиенту", "description": "состав возвратных документов клиента, для заполнения order_status.invoice_return_number", "operationId": "client_return_doc_client_return_doc_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/order/reject-approved": {"get": {"summary": "одобрение возвратов", "description": "Синхронизация данных об одобренных возвратах, направление передачи данных зависит от выбранной схемы работы с возвратами", "operationId": "client_return_doc_order_reject_approved_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}}